<h1>Admissions</h1>



<%= form_with(url: admissions_path, method: :get) do |filter_form| %>
  <div style="width: 35% !important;">
    <fieldset class="none-bs-fieldset">
      <legend class="none-bs-legend">Filter List</legend>
      <table class="table borderless">
        <tbody>
        <tr>
          <td>
            <label>Admitted After</label><br/>
            <%= filter_form.text_field(:filter_admission_by_date, { type: 'date', min: '2000-05-11', max: Date.today.to_s, id: 'filter_admission_by_date', class: 'form-control' }) %>
          </td>
          <td>
            <label>Status</label><br/>
            <%= filter_form.select(:filter_admission_by_status, options_for_select(['All', 'Admitted', 'Discharged'], 0), { id: 'filter_admission_by_status' }, class: 'form-control') %>
          </td>
          <td>
            <br/>
            <%= filter_form.submit('Filter', class: 'btn btn-secondary', id: 'enable_form_submit', data: { disable_with: false }) %>
          </td>
        </tr>
        </tbody>
      </table>
    </fieldset>
  </div>
<% end %>

<br/>
<div class="row">
  <div class="col-1">
  <div class="btn-group mr-3">
    <%= button_tag('Print', class: 'btn btn-outline-secondary mr-3 ', onClick: "printJS({ printable: 'admission_list_holder', type: 'html', header: 'Admission - List - #{Date.today.to_s}'})") %>
  </div>
</div>
</div>
<br/>

<div id="admission_list_holder">
  <% if @admissions %>
    <%= render('admissions/admissions_list', admissions: @admissions) %>
  <% else %>
    <p>Nothing found.</p>
    <%= link_to('Show all', admissions_path, method: :get, remote: true) %>
  <% end %>
</div>

