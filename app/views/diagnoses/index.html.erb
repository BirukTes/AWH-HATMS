<h1>Diagnoses</h1>

<table class="table table-bordered table-striped" id="diagnoses_holder_index">
  <thead class="thead-light">
  <tr>
    <th>Title</th>
    <th>Description</th>
    <th>Patient Name</th>
    <th colspan="3"></th>
  </tr>
  </thead>
  <tbody>
  <% @diagnoses.each do |diagnosis| %>
    <tr>
      <td><%= diagnosis.title %></td>
      <td><%= diagnosis.description %></td>
      <td><%= person_full_name_helper(diagnosis.admission.patient) %></td>
      <td><%= link_to('View', diagnosis, class: 'btn btn-secondary') %></td>
      <td><%= link_to('Edit', edit_diagnosis_path(diagnosis), class: 'btn btn-secondary') %></td>
    </tr>
  <% end %>
  </tbody>
</table>

<% content_for(:navigationButtons) do %>
  <%= link_to('Diagnose Patient', new_diagnosis_path, class: 'btn btn-primary') if policy(:diagnoses).new? %>
  <%= button_tag('Print', onClick: "printJS({printable: 'diagnoses_holder_index', type: 'html', header: 'Diagnoses - #{localize(Date.today).to_s}'})", class: 'btn btn-secondary') %>
<% end %>